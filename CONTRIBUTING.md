# 記事編集ガイドライン

[![Author aKuad](https://img.shields.io/badge/Author-aKuad-blue?logo=github)](https://github.com/aKuad)

現時点でどのような形式でページを作成しているかを記します。

## 編集手続き

### 編集の流れ

確認無しでの公開を避けるため、`main` ブランチへの直接コミットはできないように設定しています (`main` ブランチの内容が GitHub Pages で公開されるよう設定しています)。GitHub Flow ライクな流れで編集を行います。

1. 編集内容を [Issue 登録](https://github.com/aKuad/zenrobo-tutorial/issues)する, Issue に適切なラベル (後述) を貼る
2. Issue ラベルに沿った接頭詞 (後述) でブランチを作成し編集する
3. ブランチを Push し Pull Request (PR) を立てる, 該当 Issue と同じラベルを貼る
4. PR をマージしブランチを削除する

### Issue/PR ラベル・ブランチ名

編集を以下のように分類して、ラベルやブランチ名接頭詞をつけます。

| Issue, PR ラベル | ブランチ名接頭詞 | 編集内容               |
| ---------------- | ---------------- | ---------------------- |
| add              | `add/*`          | ページ追加, 追記       |
| mod              | `mod/*`          | 内容の変更 (*)         |
| fix              | `fix/*`          | 誤字脱字などの修正 (*) |
| del              | `del/*`          | ページ削除, 部分削除   |

ブランチ `/*` には、編集内容に対する適当な単語をハイフン `-` 区切りで並べます。

> [!NOTE]
>
> (*) 変更とは、全ロボの制度変化や、ページ編集方針の変更に伴う編集を指します。修正は、誤字脱字など一般に常に修正されるべき事項に対する編集を指します。

### コミットメッセージ接頭詞

| 接頭詞 | 編集内容       |
| ------ | -------------- |
| `Add:` | 追加, 追記     |
| `Mod:` | 内容の変更 (*) |
| `Fix:` | 修正 (*)       |
| `Del:` | コンテンツ削除 |

必ずしもコミットメッセージ接頭詞がブランチ接頭詞と連動する必要があるとは限りません。例えば、ページ追加の Issue 対応で `add/*` ブランチにいるとき、`Add:` コミット後に不備を発見した場合は、その後に `Fix:` コミットを作ることになります。

> [!NOTE]
>
> (*) 変更と修正の違いは、上に記載の Note と同様です。

### コミットの sign-off

コミット時に `-s` オプションを入れることで、コミットにサインオフを追加できます。

```sh
git commis -s -m "メッセージ"
```

これにより、コミットメッセージに以下のような行が追加されます。

```txt
Signed-off-by: aKuad <53811809+aKuad@users.noreply.github.com>
```

このサインオフは、当該コミットの作業を誰が行ったかを示します。オープンソース開発において、著作権の問題を適切に回避しながら進める上で、コードの著作を明確にすることは重要とされています。

### PR タイトル・本文

PR は Issue と連動して使用します。PR のタイトルは以下の形式で記載します。

```txt
Issue タイトル (Issue #issue_id)
```

本文は以下の形式で記載します。

```txt
Close #issue_id

以降、説明などあれば記載
```

> [!NOTE]
>
> GitHub は `Close #issue_id` という文を解釈し、[PR と Issue を自動で関連付け](https://docs.github.com/ja/issues/tracking-your-work-with-issues/using-issues/linking-a-pull-request-to-an-issue)、PR がマージされたとき当該 Issue も自動で Close します。

### マージコミットメッセージ

マージコミットメッセージは以下の形式で記載します。

```txt
Issue タイトル (Issue #issue_id, PR #pr_id)
```

## コンテンツガイドライン

### ファイル構造

本サイトは、[Docsify](https://docsify.js.org/) を用いて構成しています。`docs` ディレクトリをルートに、GitHub Pages で Web ページをオンラインに公開しています。

ファイル構造は以下のようになっています。

> [!NOTE]
>
> 便宜上アルファベット順になっていません

```txt
docs/
|- README.md
|- index.html
|- _sidebar.md      ... サイドバー (ページ一覧)
|
|- README.md        ... トップページ
|
|- page-name1.md
|- page-name1_media/ ... page-name1.md に使用する画像ファイル等
|  |- img1.webp
|  |- img2.webp
|
|- page-name2.md
|- page-name2_media/
...
```

### 作成者バッジ

著者を示すために、各ページの頭にこのようなバッジを貼ります。

![Author aKuad](https://img.shields.io/badge/Author-aKuad-blue?logo=github)

shields\.io というフリーのサービスを使用しており、以下のように書くだけでバッジを貼ることができます。

```md
![Author aKuad](https://img.shields.io/badge/Author-aKuad-blue?logo=github)
                                                    ^~~~~
                                      ここでバッジ右側のテキストを指定します
```

### 画像

#### 解像度

縦または横の解像度が 2000px 以上ある場合は、ある程度縮小して使用しています。

画面の解像度は普通はフル HD (1920 x 1080) 程度で、画像はその上にさらに小さく表示されます。画像の解像度が余計に高いと、ファイルサイズが大きくなり、Web ページ表示の際に通信を圧迫してしまい、表示速度に影響を及ぼします。

よって 2000px 以上の解像度は普通は不要であるため、縮小しています。

#### フォーマット

画像フォーマットは Webp を使用しています。

| ケース                 | フォーマット              |
| ---------------------- | ------------------------- |
| 写真類                 | Webp - Lossy (Quality 80) |
| スクリーンショットや図 | Webp - Lossless           |

Webp は比較的新しいフォーマットで、JPEG や PNG よりもファイルサイズを小さくできます。モダンなブラウザはすでに表示に対応しているため、Web ページで問題なく使用できます。

Webp の作成や編集は、GIMP など高機能な画像エディタで、変換は Web 上でもできます。

#### 表示サイズ指定

Docsify では、以下のように記述することで画像の表示サイズ (横幅) を指定できます。

```md
サイズ指定なし
![代替えテキスト](./media/image-name.webp)

サイズ指定あり
![代替えテキスト](./media/image-name.webp ':size=700')
```

画像の形状や解像度によっては、ページに非常に大きく表示され、画面を専有してしまう恐れがあります。そのため、適切なサイズを設定します。

以下にサイズ指定の目安を示します。

| ケース                                         | サイズ        |
| ---------------------------------------------- | ------------- |
| 縦に細長い画像やあまり目立たせる必要の無い画像 | `':size=300'` |
| イメージ画像や写真                             | `':size=500'` |
| 細かい描画があるもの                           | `':size=700'` |
